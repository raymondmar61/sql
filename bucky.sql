create table customers (id integer not null, name varchar(60) not null, address varchar(60) not null, city varchar(30) not null, state varchar(10) not null, zip integer not null);
insert into customers values (1, 'Bucky Roberts', '32 Hungerford Ave', 'Adams', 'NY', 13605);
insert into customers values (2, 'Noah Parker', '342 Tunafish Lane', 'Raleigh', 'NC', 27606);
insert into customers values (3, 'Kelsey Burger', '43 Crab Orchard Dr', 'Oakland', 'CA', 90210);
insert into customers values (4, 'Corey Smith', '423 Wisteria Lane', 'Simmersville', 'AK', 54112);
insert into customers values (5, 'Harry Potter', '673 Greenwich Ave', 'Newark', 'NJ', 80432);
insert into customers values (6, 'Henry Jackson', '2134 Grant St', 'Gary', 'IN', 47404);
insert into customers values (7, 'Cynthia Alvarez', '1568 Greenfield Ave', 'Augusta', 'GA', 30568);
insert into customers values (8, 'Teresa Smith', '8725 Black St', 'Philadelphia', 'PA', 19603);
insert into customers values (9, 'Gary Foster', '3752 Wittfield Blvd', 'Indianapolis', 'IN', 46219);
insert into customers values (10, 'Sherry Gibbons', '5517 Oak St', 'Phoenix', 'AZ', 85072);
insert into customers values (11, 'Jack Nicholson', '1234 Star Lane', 'Hollywood', 'CA', 90210);
insert into customers values (12, 'Penny Green', '4972 Massachusetts Ave', 'Orlando', 'FL', 33718);
insert into customers values (13, 'Alexander Evans', '6310 E 21st Rd', 'Las Vegas', 'NV', 83594);
insert into customers values (14, 'Jeremy White', '3954 Brentwood Dr', 'Seattle', 'WA', 99037);
insert into customers values (15, 'Omar Badshah', '6801 Regina Cir', 'Madison', 'WI', 53209);
insert into customers values (16, 'Preston Harrison', '104 Main St', 'Denver', 'CO', 81712);
insert into customers values (17, 'Manuel Rodriguez', '99543 Westin Blvd', 'Provo', 'UT', 85478);
insert into customers values (18, 'David Jones', '5488 W 34th St', 'Boston', 'MA', 2104);
insert into customers values (19, 'Nick Flanders', '3486 Happy Trails Dr', 'Springfield', 'OH', 45872);
insert into customers values (20, 'Paul Brown', '3290 Pennsylvania Ave', 'Chicago', 'IL', 61208);
insert into customers values (21, 'Sara Rehm', '7746 Wysong Ave', 'Detroit', 'MI', 48913);
insert into customers values (22, 'Haley Carter', '2957 Princess Way', 'Portland', 'OR', 97532);
insert into customers values (23, 'Julian Thomas', '5564 Dandy Trail', 'Santa Fe', 'NM', 81543);
insert into customers values (24, 'George Lucas', '8224 Star Wars Ln', 'Galaxy', 'TN', 37512);
insert into customers values (25, 'Perry Jordan', '4321 Victory Rd', 'Montgomery', 'AL', 33219);
insert into customers values (26, 'Christopher Layton', '871 Georgia Pl', 'Houston', 'TX', 78704);
insert into customers values (27, 'Devon Myers', '9932 Carmel Dr', 'New York', 'NY', 11920);
insert into customers values (28, 'Debra Talkington', '8421 Smithfield Ave', 'Mesa', 'AZ', 82573);
insert into customers values (29, 'Peter Johnson', '4213 Jones Pkwy', 'Missoula', 'MS', 37228);
insert into customers values (30, 'Harry Brown', '125 Cinnamon Way', 'Raleigh', 'NC', 27418);
insert into customers values (31, 'Kay Billings', '4592 Jessica Ave', 'Cincinnati', 'OH', 43118);
insert into customers values (32, 'Desmond Rafferty', '6329 Jordan St', 'San Diego', 'CA', 93980);
insert into customers values (33, 'Lisa Washington', '3490 Dearborn Ave', 'Boise', 'ID', 84930);
insert into customers values (34, 'Jackson Taylor', '7733 Miami Way', 'Atlanta', 'GA', 37544);
insert into customers values (35, 'Michael Davis', '9245 Olney Ave', 'Eau Claire', 'WI', 54732);
insert into customers values (36, 'Candice Thompson', '3122 Ebony Blvd', 'Memphis', 'TN', 33152);
insert into customers values (37, 'Terry Mitchell', '7438 Tacoma St', 'Spokane', 'WA', 99753);
insert into customers values (38, 'Ruth Bolen', '5584 Frigid Ln', 'Anchorage', 'AK', 99831);
insert into customers values (39, 'James Hamilton', '449 Routiers Ave', 'Ft Lauderdale', 'FL', 33912);
insert into customers values (40, 'Harvey Akins', '7950 Ridge Rd', 'Newark', 'NJ', 2753);
insert into customers values (41, 'Timothy Smothers', '5892 Maple Ave', 'Washington', 'DC', 213);
insert into customers values (42, 'Stephanie Nichols', '2275 Apple St', 'Highland', 'MI', 49003);
insert into customers values (43, 'Ken Davidson', '1583 N 27th Rd', 'Dallas', 'TX', 78432);
insert into customers values (44, 'Angel Martin', '3195 Mapleton Ave', 'Providence', 'RI', 8132);
insert into customers values (45, 'Cathy Douglas', '8934 Glory St', 'Boulder', 'CO', 89578);
insert into customers values (46, 'Kendall Norton', '8733 Jordan Ave', 'Kansas City', 'KS', 66555);
insert into customers values (47, 'Desire Morton', '2138 Peaches Way', 'Ellettsville', 'IL', 67330);
insert into customers values (48, 'Patty Zrock', '7397 Happy St', 'Brooklyn', 'NY', 13420);
insert into customers values (49, 'Evan Bayh', '6613 North St', 'Miami', 'FL', 33990);
insert into customers values (50, 'Kevin Masters', '91350 Carmel Dr', 'Brisket', 'WY', 80154);
insert into customers values (51, 'Paula Barker', '6528 Prozac Ave', 'San Francisco', 'CA', 92953);
insert into customers values (52, 'John Jacobs', '2957 Ashway Ct', 'Pittsburgh', 'PA', 18320);
insert into customers values (53, 'Dana Brunswick', '4825 Polly Ln', 'Las Vegas', 'NV', 89223);
insert into customers values (54, 'David Turner', '743 Main St', 'Knoxville', 'TN', 37710);
insert into customers values (55, 'Michael Orlando', '1355 Joseph Way', 'Pensacola', 'FL', 31552);
insert into customers values (56, 'Terry Green', '6320 LaSalle St', 'Yazoo', 'MS', 30428);
insert into customers values (57, 'Greg Evans', '2294 South St', 'Indianapolis', 'IN', 46203);
insert into customers values (58, 'Sandy Johnson', '5319 Brentwood Dr', 'Louisville', 'KY', 41350);
insert into customers values (59, 'Charlie Jones', '5382 Miracle Ln', 'New Orleans', 'LA', 73210);
insert into customers values (60, 'Kevin Grier', '855 Henry St', 'Provo', 'UT', 83111);
insert into customers values (61, 'Lani Kulana', '3352 Hibiscus Ln', 'Honolulu', 'HI', 93525);
insert into customers values (62, 'Mary Worley', '4291 Cherry St', 'Oaktown', 'NH', 5308);
insert into customers values (63, 'Tanya Gleason', '7315 Franklin Rd', 'Peoria', 'IL', 66514);
insert into customers values (64, 'Donna Bradley', '2753 Florida Way', 'San Jose', 'CA', 91342);
insert into customers values (65, 'Jimmy Lawson', '9 Corporate Dr', 'Excelsior', 'GA', 37833);
insert into customers values (66, 'Brenda Fowler', '8447 Jackson Pl', 'St Louis', 'MO', 63153);
insert into customers values (67, 'Karen Mills', '9077 Cumberland Way', 'Tulsa', 'OK', 74319);
insert into customers values (68, 'Aretha Gordon', '1489 Pumpkin Ave', 'Appleton', 'WI', 54310);
insert into customers values (69, 'Carol Brown', '6225 Tamiami Trl', 'Ft Myers', 'FL', 33914);
insert into customers values (70, 'Jerry Freeman', '7840 Princess Dr', 'Topeka', 'KS', 63330);
insert into customers values (71, 'LuAnn Dennis', '5602 Norman St', 'Philadelphia', 'PA', 17569);
insert into customers values (72, 'Thomas Jackson', '3958 Breen Ave', 'Mobile', 'AL', 34558);
insert into customers values (73, 'Marilyn Pritchett', '1468 Duncan St', 'Trenton', 'NJ', 7104);
insert into customers values (74, 'Katherine Cain', '4388 Drysdale Ln', 'Texarkana', 'AR', 77315);
insert into customers values (75, 'Patsy Cline', '9926 Hemingway Blvd', 'Tuscaloosa', 'CA', 97221);
insert into customers values (76, 'Kerry Jackson', '5533 Penelope St', 'Beaverton', 'OR', 91353);
insert into customers values (77, 'Princess Wilson', '3127 Spencer Dr', 'Norton', 'sC', 27384);
insert into customers values (78, 'Henry Fisk', '6341 Wilmington Ave', 'Lincoln', 'NE', 70011);
insert into customers values (79, 'Jessica Grant', '2203 Pansy Ln', 'Butte', 'MT', 54438);
insert into customers values (80, 'Joe Franklin', '1078 Dusky Dr', 'Independence', 'IN', 46935);
insert into customers values (81, 'Larry Hood', '3522 Potter St', 'Marietta', 'GA', 37023);
insert into customers values (82, 'Jim OBrien', '6084 Maple St', 'Boston', 'MA', 1358);
insert into customers values (83, 'Tanya Hicks', '1487 Potter St', 'Orlando', 'FL', 34258);
insert into customers values (84, 'Dean Williams', '2279 Gray St', 'Roanoke', 'VA', 27384);
insert into customers values (85, 'Jason Freeman', '4301 Perry Ave', 'Lincoln', 'NE', 67301);
insert into customers values (86, 'Katy Smith', '8733 Johnson Way', 'Santa Fe', 'NM', 80227);
insert into customers values (87, 'Andy Jones', '5177 US 42 S', 'Paragon', 'MI', 48203);
insert into customers values (88, 'Crystal Jarvis', '9028 Indiana Ave', 'Tuscaloosa', 'AL', 32784);
insert into customers values (89, 'Elizabeth McMurray', '730 Walnut St', 'Mooresville', 'WI', 53802);
insert into customers values (90, 'Cassandra Tansy', '1209 Broadway St', 'Bloomington', 'IN', 46801);
insert into customers values (91, 'Dick Moore', '3209 Simpson Rd', 'New York', 'NY', 10220);
insert into customers values (92, 'Marisa Rodriguez', '873 Olney Ave', 'Muncie', 'VA', 20384);
insert into customers values (93, 'Tyrone Jackson', '7725 Georgia St', 'Salt Lake City', 'UT', 82004);
insert into customers values (94, 'Donald Gray', '8339 Olivia St', 'Champaign', 'IL', 60337);
insert into customers values (95, 'Victoria Jameson', '2804 Oak Tree St', 'Salina', 'KS', 67905);
insert into customers values (96, 'Lucy Bronson', '5336 Michigan Ave', 'Wilmington', 'DE', 1903);

create table items (id integer not null, name varchar(65) not null, cost float not null, seller_id integer not null, bids integer not null);
INSERT INTO 'items' ('id', 'name', 'cost', 'seller_id', 'bids') VALUES
(1, 'Brand New iMac Computer', 149.99, 32, 3);
insert into items values (2, 'used diaper from my sister', 2.04, 1, 0);
insert into items values (3, 'Fresh apple pie', 14.99, 54, 32);
insert into items values (4, 'New gym socks', 2.34, 90, 566);
insert into items values (5, 'Weedwacker only slightly used', 4.56, 84, 2);
insert into items values (6, 'New ipad stolen from best buy', 399, 32, 23);
insert into items values (7, 'Book about having babies', 21.34, 44, 21);
insert into items values (8, 'Woman Jeans', 49.5, 56, 123);
insert into items values (9, 'traditional carpet', 25.45, 14, 75);
insert into items values (10, '3 boxes of frogs', 30.49, 68, 145);
insert into items values (11, '48 boxes of frogs', 74.29, 6, 99);
insert into items values (12, '7 boxes of frogs', 857.75, 18, 88);
insert into items values (13, 'laptop', 743.3, 89, 158);
insert into items values (14, 'thumbelina', 228.05, 15, 49);
insert into items values (15, 'bed', 127.15, 65, 189);
insert into items values (16, 'shampoing', 12.8, 6, 105);
insert into items values (17, 'stove', 37.66, 68, 111);
insert into items values (18, 'cushion', 7.15, 97, 157);
insert into items values (19, 'refrigerator', 657.49, 61, 129);
insert into items values (20, 'gold necklace', 853.07, 10, 101);
insert into items values (21, 'pan', 33.7, 7, 184);
insert into items values (22, 'awesome alien computer game', 10.75, 18, 29);
insert into items values (23, 'baby coat', 89.99, 14, 47);
insert into items values (24, 'baby seat', 145.78, 2, 199);
insert into items values (25, 'satchel', 44.71, 15, 66);
insert into items values (26, 'women perfum', 110.9, 48, 84);
insert into items values (27, 'conveyor belt', 1120.75, 11, 4);
insert into items values (28, 'used car', 5700.5, 12, 135);
insert into items values (29, 'supercomputer', 49.75, 50, 176);
insert into items values (30, 'mirror', 26.8, 19, 56);
insert into items values (31, 'piano', 1800.4, 13, 147);
insert into items values (32, 'quitar', 88.4, 25, 164);
insert into items values (33, 'trumpet', 255.15, 36, 23);
insert into items values (34, 'machintosh', 3845, 20, 107);
insert into items values (35, 'earphone', 10.5, 17, 110);
insert into items values (36, 'computer', 418, 11, 152);
insert into items values (37, 'night light', 13.87, 97, 198);
insert into items values (38, 'pc bag', 50.99, 48, 65);
insert into items values (39, 'babyfoot', 376.7, 2, 121);
insert into items values (40, 'hairdryer', 88.9, 12, 177);
insert into items values (41, 'babyliss', 130.75, 68, 79);
insert into items values (42, 'door', 150.5, 98, 13);
insert into items values (43, 'baby soap', 12.7, 4, 198);
insert into items values (44, 'used phone', 43.75, 9, 69);
insert into items values (45, 'bath', 757.15, 96, 55);
insert into items values (46, 'flower', 10.75, 16, 89);
insert into items values (47, 'battery charger', 48.75, 25, 87);
insert into items values (48, 'air conditioner', 975, 12, 151);
insert into items values (49, 'casserole', 115.75, 46, 35);
insert into items values (50, 'used toilet', 180.7, 64, 11);
insert into items values (51, 'teashirt', 14.98, 65, 114);
insert into items values (52, 'moto', 920, 22, 174);
insert into items values (53, 'saxophone', 220.9, 60, 140);
insert into items values (54, 'bicycle', 180.55, 97, 35);
insert into items values (55, 'man perfum', 95, 75, 199);
insert into items values (56, 'table', 157.25, 91, 48);
insert into items values (57, 'boat', 4890.5, 17, 177);
insert into items values (58, 'iphone', 547, 8, 28);
insert into items values (59, 'body milk', 50.5, 16, 90);
insert into items values (60, 'new curtain for bedroom', 278.4, 92, 11);
insert into items values (61, 'diamond ring', 1900, 15, 45);
insert into items values (62, 'swept', 4.5, 9, 99);
insert into items values (63, 'women hat', 17.55, 39, 60);
insert into items values (64, 'washing machine', 680.9, 42, 125);
insert into items values (65, 'baby bottle', 27.98, 91, 117);
insert into items values (66, 'women sun glasses', 66.7, 18, 174);
insert into items values (67, 'person weighs', 65.25, 10, 100);
insert into items values (68, 'photo frame', 18, 85, 170);
insert into items values (69, 'key board', 16.7, 90, 101);
insert into items values (70, 'screen', 250, 81, 188);
insert into items values (71, 'bucket', 2.5, 1, 19);
insert into items values (72, 'lipstick', 24.75, 3, 44);
insert into items values (73, 'wardrobe', 120.75, 9, 71);
insert into items values (74, 'blue dress size 40', 88.9, 7, 113);
insert into items values (75, 'newspaper', 1.5, 95, 172);
insert into items values (76, 'scanner', 350, 14, 62);
insert into items values (77, 'camera', 550.7, 17, 95);
insert into items values (78, 'camcorder', 788.99, 25, 127);
insert into items values (79, 'gun', 420.1, 81, 107);
insert into items values (80, 'domestic dog', 200, 19, 129);
insert into items values (81, 'horse', 759.5, 30, 115);
insert into items values (82, 'truck', 7800.5, 32, 123);
insert into items values (83, 'soccer ball', 95.49, 54, 155);
insert into items values (84, 'gold earring', 385, 75, 92);
insert into items values (85, 'basket', 250.45, 46, 142);
insert into items values (86, 'bikini', 85.2, 12, 57);
insert into items values (87, 'red skirt', 15.9, 18, 188);
insert into items values (88, 'copier machine', 800.7, 50, 160);
insert into items values (89, 'handbag', 35.9, 8, 108);
insert into items values (90, 'bath towel', 25.1, 11, 186);
insert into items values (91, 'coffee machine', 210.89, 15, 170);
insert into items values (92, 'wedding dress', 690, 26, 48);
insert into items values (93, 'man sun glasses', 80.7, 19, 174);
insert into items values (94, 'candle', 7.5, 22, 102);
insert into items values (95, 'scarf', 11.9, 7, 143);
insert into items values (96, 'microwave', 150.29, 6, 11);
insert into items values (97, 'electric oven', 645, 62, 171);
insert into items values (98, 'play station', 256.75, 12, 188);
insert into items values (99, 'dvd', 126.84, 14, 113);
insert into items values (100, 'magazine', 3.5, 8, 152);

select *
from tab
where tname like 'CUST%';
select *
from tabs
where table_name like 'CUST%';  --show tables in a database
describe customers;  --returns columns and the columns' properties from customers table; describe columns

select distinct state
from customers;
select rownum, id, name
from customers;
select rownum, id, name
from customers
where rownum <=10; --The rownum pseudocolumn is useful if you want to limit the number of rows returned by a query.
--start line 36 buckymysql.sql 03/26/18

select name, id
from customers
where rownum = 1;  --Return one row.  No need for rownum in select statement.
select name, id
from customers
where rownum <=10
order by id desc;  --Return first 10 rows sorted by id desc.  No need for rownum in select statement.
select id, name
from customers
where id between 25 and 30;  --25 and 30 are inclusive
select city
from customers
where city like 'H%d';  --Returns cities begins with capital letter H and ends with lower case letter d
select name
from items
where name like '_ boxes of frogs';  --wild card one character
--RM:  skipped regular expressions.  Oracledatabase12csql.sql has brief regexp.

select concat(city, state) as "concat two columns only"
from customers;  --Concatenation operator doesn't permit spaces
select city || ', ' || state as "concat three", city || ' ' || state || zip as "concat four"
from customers;
select name, upper(name)
from customers;
select sum(cost), count(cost), max(cost), min(cost), round(avg(cost),2), round(avg(cost)*1.2,2) as "20% above avg cost"
from items;
select sum(cost), count(cost), max(cost), min(cost), round(avg(cost),2), round(avg(cost)*1.2,2) as "20% above avg cost"
from items
where cost >=100;
select seller_id, count(*) as "item count by seller_id"
from items
group by seller_id;
select seller_id, count(*) as "item count >=3 by seller_id"
from items
group by seller_id
having count(*) >=3;

--Subquery is a query inside another query.  Instructor says the quick example admit it's useless; there's an easier way.  Want items price is above average.  First, find the average price.  Second, find the items above the average price found in first. */
--SQL queries are run inside out
select round(avg(cost),2)
from items;  --return 467.11 first get the cost average
select *
from items
where cost > (
	select round(avg(cost),2)
	from items);  --second use cost average in where clause as subquery
select cost
from items
where name like '%boxes of frogs%';  --costs of sellers selling boxes of frogs first
select min(cost)
from items
where name like '%boxes of frogs%';  --lowest cost of sellers selling boxes of frogs second
select seller_id
from items
where name like '%boxes of frogs%'
and cost = (select min(cost)
	from items
	where name like '%boxes of frogs%');  --find seller_id with lowest cost selling boxes of frogs third

select customers.id, customers.name, items.name, items.cost
from customers, items
where customers.id=items.seller_id
order by customers.id;
select c.id, c.name, i.name, i.cost
from customers c, items i
where c.id=i.seller_id
order by c.id;
select c.name, i.name
from customers c, items i
where c.id=i.seller_id;
select c.name, i.name
from customers c right join items i
on c.id=i.seller_id; --get all items and their customers which match each item whether item has customer or not
--same as
select c.name, i.name
from customers c right outer join items i
on c.id=i.seller_id; --get all items and their customers which match each item whether item has customer or not
select c.name, i.name
from customers c left join items i
on c.id=i.seller_id; --get all customers and their items which match each customer whether customer has item or not
--same as
select c.name, i.name
from customers c left outer join items i
on c.id=i.seller_id; --get all customers and their items which match each customer whether customer has item or not

select name, cost, bids
from items
where bids > 190 or cost > 1000;
--use AND OR keywords in WHERE to acheive the same results-->bids > 190 OR cost > 1000 as union
--Instructor says UNION good for more complex filtering.  Important the columns must be the same implying the tables must be the same.  UNION removes duplicate entries.
select name, cost, bids
from items
where bids > 190
union
select name, cost, bids
from items
where cost > 1000;
--UNION ALL includes duplicate entries
select name, cost, bids
from items
where bids > 190
union all
select name, cost, bids
from items
where cost > 1000;
--start line 244 buckymysql.sql 03/28/18